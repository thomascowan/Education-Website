<!DOCTYPE html>
<html lang="en" class="html">
  <head>
    <link href="./styles.css" rel="stylesheet" type="text/css">
    <title>Online Education Myanmar</title>
    <link rel="shortcut icon" type="image/png" href="./images/favicon.png"/>
  </head>
  <body class="body">
      <div class="navBar">
        <ul>
          <li style="float:right"><a target="blank" href="#Registering_form">Register</a></li>
          <li style="float:right"><a target="blank" href="#volunteering_form">Volunteer</a>
          <li style="float:right"><a target="blank" href="https://www.facebook.com/groups/1148211305683828"><i class="fab fa-facebook-square"></i>Facebook</a></li>
          </li><div class="translate" id="google_translate_element"></div>
        </ul>
      </div>
      <div class="main">
        <div class="topImages">
          <img id="logo" src="./images/logo.png">
          <img id="coverImage" src="./images/cover.png">
          <p class="topText">ONLINE EDUCATION MYANMAR<br>Fair Learning For All</p>
        </div>
        <div class="block2">
          <div class="mainText">
            <h1 class="title">Welcome to<br>Online Education Myanmar!</h1>
            <p class="intro">We are here to provide educational services to Myanmar people and all the minority ethnic groups residing in Myanmar. Our online classes are totally free of charge.</p>
            <p class="reg"><a href="https://www.google.com">Register for Classes</a></p>
          </div>
          <div class="block3" id="classes">
            <h1 class="avail">Available Classes</h1>
            <div class="classBox">
              <h2 class="tableTitle">Grades 1 - 10</h2>
              <grades1-10 class="classTable"></grades1-10>
            </div>
            <div class="classBox">
              <h2 class="tableTitle">University Students and Adults</h2>
              <universityAndAdults class="classTable"></universityAndAdults>
            </div>
          </div>
        </div>
      </div>
  </body>
  <footer>
      <script type="text/javascript">
        function googleTranslateElementInit() {
          new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
        }
        </script>
      <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
      <script src="d3.min.js?v=3.2.8"></script>
      <script type="text/javascript"charset="utf-8">
      
        createTable("classes/Grades 1-10.csv","grades1-10");
        createTable("classes/University and Adults.csv","universityAndAdults");

        function createTable(path, table){
          d3.text(path, function(data) {
            var parsedCSV = d3.csv.parseRows(data);
            var container = d3.select(table)
              .append("table")

              .selectAll("tr")
                .data(parsedCSV).enter()
                .append("tr")

              .selectAll("td")
                .data(function(d) { return d; }).enter()
                .append("td")
                .text(function(d) { 
                  if(d.match(/^((https?|ftp|smtp):\/\/)?(www.)?[a-z0-9]+\.[a-z]+(\/[a-zA-Z0-9#]+\/?)*$/)){
                    arr.push(d);
                    return "Register here"
                  }
                  return d; 
                });
          });

          const myPromise = new Promise((resolve, reject) => {
          setTimeout(() => {
            resolve(document.getElementsByTagName('td'));
          }, 100);
          }).then(
            value => {
              let temp = [];
              for(let i = 0; i < value.length; i++){
                if(value[i].innerHTML == "Register here") {
                  temp.push(value[i]);
                }
              }
              for(let i = 0; i < temp.length; i++){
                console.log(arr[i]);
                temp[i].innerHTML = "<a href='" + arr[i] + "'>Register Here</a>";
              }
            }
          )
        }
      </script>
  </footer>
</html>
